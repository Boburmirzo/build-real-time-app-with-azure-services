"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const timeSpan_1 = require("./timeSpan");
class QueryMetricsUtils {
    static parseDelimitedString(delimitedString) {
        if (delimitedString == null) {
            throw new Error("delimitedString is null or undefined");
        }
        const metrics = {};
        const headerAttributes = delimitedString.split(";");
        for (const attribute of headerAttributes) {
            const attributeKeyValue = attribute.split("=");
            if (attributeKeyValue.length !== 2) {
                throw new Error("recieved a malformed delimited string");
            }
            const attributeKey = attributeKeyValue[0];
            const attributeValue = parseFloat(attributeKeyValue[1]);
            metrics[attributeKey] = attributeValue;
        }
        return metrics;
    }
    static timeSpanFromMetrics(metrics /* TODO: any */, key) {
        if (key in metrics) {
            return timeSpan_1.TimeSpan.fromMilliseconds(metrics[key]);
        }
        return timeSpan_1.TimeSpan.zero;
    }
    static isNumeric(input) {
        return !isNaN(parseFloat(input)) && isFinite(input);
    }
}
exports.QueryMetricsUtils = QueryMetricsUtils;
//# sourceMappingURL=queryMetricsUtils.js.map